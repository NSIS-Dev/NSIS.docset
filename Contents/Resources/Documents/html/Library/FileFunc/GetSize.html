<html>
<header>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
	<link rel="stylesheet" href="../../../css/bootstrap.min.css">
	<link rel="stylesheet" href="../../../css/highlight.css">
</header>
<body>

<div class="container">

<h1>GetSize</h1>

<hr>

<ul>
<li>Find the size of a file, files mask or directory.</li>
<li>Find the sum of the files, directories and subdirectories.</li>
</ul>

<h2>Syntax:</h2>

<pre><code>${GetSize} "[Path]" "[Options]" $var1 $var2 $var3

"[Path]"      ; Disk or Directory
              ;
"[Options]"   ; /M=[mask]
              ;     /M=*.*         - Find all (default)
              ;     /M=*.doc       - Find Work.doc, 1.doc ...
              ;     /M=Pho*        - Find PHOTOS, phone.txt ...
              ;     /M=win???.exe  - Find winamp.exe, winver.exe ...
              ;     /M=winamp.exe  - Find winamp.exe only
              ; /S=No:No[B|K|M|G]
              ;     /S=      - Don't find file size (faster) (default)
              ;     /S=0:0B  - Find only files of 0 Bytes exactly
              ;     /S=5:9K  - Find only files of 5 to 9 Kilobytes
              ;     /S=:10M  - Find only files of 10 Megabyte or less
              ;     /S=1G    - Find only files of 1 Gigabyte or more
              ; /G=[1|0]
              ;     /G=1     - Find with subdirectories (default)
              ;     /G=0     - Find without subdirectories
              ;
$var1         ; Result1: Size
$var2         ; Result2: Sum of files
$var3         ; Result3: Sum of directories
</code></pre>

<p>Note: </p>

<ul>
<li>Error flag if disk or directory isn't exist </li>
<li>Error flag if syntax error </li>
<li>See also <a href="http://nsis.sourceforge.net/Locate_plugin">Locate plugin</a></li>
</ul>

<h2>Examples:</h2>

<h3>Find file size in kilobytes</h3>

<pre><code>Section
    ${GetSize} "C:\WINDOWS" "/M=Explorer.exe /S=0K /G=0" $0 $1 $2
    ; $0="220" Kb
    ; $1="1"   files
    ; $2=""    directories

    IfErrors 0 +2
    MessageBox MB_OK "Error"
SectionEnd
</code></pre>

<h3>Find folder size in megabytes</h3>

<pre><code>Section
    ${GetSize} "C:\Installs\Reanimator\Drivers" "/S=0M" $0 $1 $2
    ; $0="132" Mb
    ; $1="555" files
    ; $2="55"  directories

    IfErrors 0 +2
    MessageBox MB_OK "Error"
SectionEnd
</code></pre>

<h3>Find sum of files and folders (no subfolders)</h3>

<pre><code>Section
    ${GetSize} "C:\WINDOWS" "/G=0" $0 $1 $2
    ; $0=""    size
    ; $1="253" files
    ; $2="46"  directories

    IfErrors 0 +2
    MessageBox MB_OK "Error"
SectionEnd
</code></pre>

<h2>Credits:</h2>

<p>Written by <a href="http://nsis.sourceforge.net/User:Instructor">Instructor</a></p>

<hr>

<span class="pull-right small"><a href="https://github.com/idleberg/NSIS.docset">Improve this documentation</a></span>

</div>

<script src="../../../js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
